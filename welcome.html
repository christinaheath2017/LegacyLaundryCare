<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Welcome â€“ Legacy LaundryCare</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="https://christinaheath2017.github.io/LegacyLaundryCare/styles.css?v=2" />

</head>
<body>
  <div class="card">
    <h1 id="greeting">Welcome!</h1>
    <p style="text-align:center;">This is your Legacy LaundryCare dashboard. Everything you need is right here.</p>

    <div id="policyAlert" class="message" style="display:none; color:#b33; font-weight:bold; text-align:center;">
      We've updated our policies. Please take a moment to read through and agree to them.
      <br />
      <a href="termconditions.html" target="_blank" style="color:#6c9bcf;">View Updated Terms</a>
    </div>

    <div style="display:flex; flex-direction:column; gap:1rem; margin-top:2rem;">
      <a href="change-password.html" class="button">ğŸ” Change Password</a>
      <a href="update-info.html" class="button">ğŸ‘¤ Update Personal Info</a>
      <a href="update-payment.html" class="button">ğŸ’³ Update Payment Info</a>
      <a href="preferences.html" class="button">âœ¨ Set Add-On Preferences</a>
      <a href="place-order.html" class="button">ğŸ§º Place a New Order</a>
      <a href="track-order.html" class="button">ğŸ“¦ Track Orders & Messaging</a>
    </div>
  </div>

  <script>
    const name = localStorage.getItem("clientName");
    const greeting = document.getElementById("greeting");
    if (name) {
      greeting.textContent = `Hey ${name}, welcome to your Legacy Dashboard`;
    }

    const agreedTerms = localStorage.getItem("agreedTerms");
    const currentTermsVersion = 2; // Update this when terms change
    const storedTermsVersion = localStorage.getItem("termsVersion");

    if (!agreedTerms || parseInt(storedTermsVersion) < currentTermsVersion) {
      document.getElementById("policyAlert").style.display = "block";
    }
  </script>
</body>
</html>
