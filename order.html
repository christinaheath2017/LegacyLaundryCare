<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Order Details – Legacy LaundryCare</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #fff8dc;
      color: #333;
      padding: 2rem;
      max-width: 900px;
      margin: auto;
    }
    h1 {
      text-align: center;
      margin-bottom: 1rem;
    }
    .summary {
      background-color: #f0f8ff;
      padding: 1rem;
      border-radius: 5px;
      margin-bottom: 2rem;
    }
    label {
      display: block;
      margin-top: 1rem;
      font-weight: bold;
    }
    input, select, textarea {
      width: 100%;
      padding: 0.5rem;
      margin-top: 0.5rem;
      border: 1px solid #ccc;
      border-radius: 5px;
    }
    .note {
      font-size: 0.9rem;
      color: #555;
      margin-top: 0.5rem;
    }
    .tier-box {
      background-color: #e6f2ff;
      padding: 1rem;
      border-radius: 5px;
      margin-top: 1rem;
    }
    button {
      margin-top: 2rem;
      padding: 0.75rem 1.5rem;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 5px;
      font-weight: bold;
      cursor: pointer;
    }
    button:hover {
      background-color: #0056b3;
    }
  </style>
</head>
<body>

  <h1>Order Details</h1>

  <div class="summary">
    <h2>Client Info</h2>
    <p><strong>Name:</strong> <span id="clientName"></span></p>
    <p><strong>Email:</strong> <span id="clientEmail"></span></p>
    <p><strong>Phone:</strong> <span id="clientPhone"></span></p>
    <p><strong>Hotel/Motel:</strong> <span id="locationSelected"></span></p>
    <p><strong>Pickup Address:</strong> <span id="pickupAddress"></span></p>
    <p><strong>Room Number:</strong> <span id="roomNumber"></span></p>
  </div>

  <form id="orderForm" action="booking.html" method="get" onsubmit="saveOrderDetails(); return true;">
    <label for="serviceTier">Select Your Service Tier:</label>

    <div class="tier-box">
      <input type="radio" name="serviceTier" value="standard" required /> <strong>Standard</strong> – $2/lb, 25 lb minimum, 24–48 hr turnaround<br />
      Includes stain treatment and hang dry options.
    </div>

    <div class="tier-box">
      <input type="radio" name="serviceTier" value="express" /> <strong>Express</strong> – $4/lb, 25 lb minimum, 60 lb max, 12–24 hr turnaround<br />
      No stain treatment or hang dry.
    </div>

    <div class="tier-box">
      <input type="radio" name="serviceTier" value="rapid" /> <strong>Rapid Express</strong> – $6/lb, 60 lb max, 6–12 hr turnaround<br />
      No stain treatment or hang dry.
    </div>
<h2>Bag Size & Quantity</h2>

<p>Select all bag sizes you’re using. Then tell us how many of each you have.</p>

<div id="bagSelection">
  <label><input type="checkbox" name="bagSize" value="xs" onchange="toggleBagInput('xs')"> Extra Small (7 gal, ~10 lbs)</label>
  <input type="number" id="xsCount" placeholder="How many?" style="display:none;" min="0" />

  <label><input type="checkbox" name="bagSize" value="sm" onchange="toggleBagInput('sm')"> Small (13 gal, ~25 lbs)</label>
  <input type="number" id="smCount" placeholder="How many?" style="display:none;" min="0" />

  <label><input type="checkbox" name="bagSize" value="md" onchange="toggleBagInput('md')"> Medium (30/33 gal, ~60 lbs)</label>
  <input type="number" id="mdCount" placeholder="How many?" style="display:none;" min="0" />

  <label><input type="checkbox" name="bagSize" value="lg" onchange="toggleBagInput('lg')"> Large (40 gal, ~90 lbs)</label>
  <input type="number" id="lgCount" placeholder="How many?" style="display:none;" min="0" />

  <label><input type="checkbox" name="bagSize" value="xl" onchange="toggleBagInput('xl')"> Extra Large (55 gal, ~120 lbs)</label>
  <input type="number" id="xlCount" placeholder="How many?" style="display:none;" min="0" />
</div>

<h3>Sorting Options (Optional)</h3>
<p>Select any sorting preferences. These will be treated as separate bags.</p>

<label><input type="checkbox" name="sortOption" value="delicates"> Delicates</label>
<label><input type="checkbox" name="sortOption" value="hangDry"> Hang Dry (Standard only)</label>
<label><input type="checkbox" name="sortOption" value="whitening"> Whitening</label>
<label><input type="checkbox" name="sortOption" value="hangers"> Return on Hangers (client provides hangers)</label>

<p class="note">Each sorting option may require a separate bag. We’ll confirm final weight and pricing after intake.</p>

<h3>Estimated Price</h3>
<p><strong>Estimated Max Weight:</strong> <span id="estimatedWeight">0</span> lbs</p>
<p><strong>Estimated Price:</strong> $<span id="estimatedPrice">0.00</span></p>

<script>
  const tierRates = {
    standard: 2,
    express: 4,
    rapid: 6
  };

  const bagWeights = {
    xs: 10,
    sm: 25,
    md: 60,
    lg: 90,
    xl: 120
  };

  function toggleBagInput(size) {
    const input = document.getElementById(size + "Count");
    input.style.display = input.style.display === "none" ? "inline-block" : "none";
    calculateEstimate();
  }

  document.querySelectorAll('input[type="number"]').forEach(input => {
    input.addEventListener("input", calculateEstimate);
  });

  document.querySelectorAll('input[name="serviceTier"]').forEach(radio => {
    radio.addEventListener("change", calculateEstimate);
  });

  function calculateEstimate() {
    let totalWeight = 0;
    ["xs", "sm", "md", "lg", "xl"].forEach(size => {
      const count = parseInt(document.getElementById(size + "Count")?.value || "0");
      totalWeight += count * bagWeights[size];
    });

    const tier = document.querySelector('input[name="serviceTier"]:checked')?.value;
    const rate = tierRates[tier] || 0;
    const estimatedPrice = totalWeight * rate;

    document.getElementById("estimatedWeight").textContent = totalWeight;
    document.getElementById("estimatedPrice").textContent = estimatedPrice.toFixed(2);

    localStorage.setItem("estimatedWeight", totalWeight);
    localStorage.setItem("estimatedPrice", estimatedPrice.toFixed(2));
  }
</script>

    

  <script>
    document.getElementById("clientName").textContent = localStorage.getItem("clientName") || "";
    document.getElementById("clientEmail").textContent = localStorage.getItem("clientEmail") || "";
    document.getElementById("clientPhone").textContent = localStorage.getItem("clientPhone") || "";
    document.getElementById("locationSelected").textContent = localStorage.getItem("locationSelected") || "";
    document.getElementById("pickupAddress").textContent = localStorage.getItem("pickupAddress") || "";
    document.getElementById("roomNumber").textContent = localStorage.getItem("roomNumber") || "";

    function saveOrderDetails() {
      const tier = document.querySelector('input[name="serviceTier"]:checked')?.value || "";
      localStorage.setItem("serviceTier", tier);
    }
  </script>

</body>
</html>
